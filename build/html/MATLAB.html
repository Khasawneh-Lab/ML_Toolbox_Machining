<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MATLAB Codes for Wavelet Packet Transform &mdash; Machine learning toolbox for WPT and EEMD 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="index.html" class="icon icon-home"> Machine learning toolbox for WPT and EEMD
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">1.  Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="chatter_detection.html">1.1. Chatter Detection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="WPT.html">1.1.1. Wavelet Packet Transform (WPT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="EEMD.html">1.1.2. Ensemble Empirical Mode Decomposition (EEMD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="DTW.html">1.1.3. Dynamic Time Warping (DTW)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">2.  Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">3.  License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine learning toolbox for WPT and EEMD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>MATLAB Codes for Wavelet Packet Transform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/MATLAB.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="matlab-codes-for-wavelet-packet-transform">
<span id="matlab"></span><h1>MATLAB Codes for Wavelet Packet Transform<a class="headerlink" href="#matlab-codes-for-wavelet-packet-transform" title="Permalink to this headline"></a></h1>
<p>MATLAB folder in the <a class="reference external" href="https://github.com/mcanyesilli/WPT_EEMD_ML_Machining">GitHub repository</a> includes four codes.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>WP_Energy_Ratio</strong>: Computes the energy ratios of the wavelet packets for specified level of transform for chosen time series. It returns plots which contains energy ratios of each packet for time series, reconstructed time series and their FFT plot. User can define the informative wavelet packet number using these plot.</p></li>
<li><p><strong>WP_Informative_Packet_Recon</strong>: For selected level of WPT, it reconstructs time series based on chosen informative wavelet packets. It saves the reconstructed time series into specified folder.</p></li>
<li><p><strong>WP_Frequency_Domain_Features</strong>: Computes the frequency domain features for selected level of Transform by using reconstructed time series with <strong>WP_Informative_Packet_Recon</strong> function. It saves the feature matrix and this feature matrix will be combined with time domain features to be used in classification.</p></li>
<li><p><strong>Example_Usage</strong>: Provides examples for MATLAB codes.</p></li>
</ul>
</div></blockquote>
<p><strong>NOTE</strong>: For more details on these functions, please see the function descriptions in MATLAB files.</p>
<section id="wavelet-packet-numbering-in-matlab">
<h2>Wavelet packet numbering in MATLAB<a class="headerlink" href="#wavelet-packet-numbering-in-matlab" title="Permalink to this headline"></a></h2>
<p>The numbering of the wavelet packets obtained after applying WPT can confuse user. Therefore, we give proper instructions here how to obtain and track the wavelet packets correctly. There
are two types of ordering of the wavelet packets and these are natural ordering and frequency
ordering. We show these two types of ordering in Wavelet packet tree in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum</span></code>.</p>
<figure class="align-center" id="id2">
<span id="packetnum"></span><img alt="_images/WPT_Tree_with_Ordering.png" src="_images/WPT_Tree_with_Ordering.png" />
<figcaption>
<p><span class="caption-text">Frequency and natural ordering of wavelet packets (resetting the packet numbers to 1 in each level of transformation)</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The ordering is given in natural ordering in MATLAB. However, we use frequency ordering in this toolbox. In addition, MATLAB does not reset the numbering of wavelet packets to 1 in each level of transform.
For example, if the first level wavelet packets are called first and second wavelet packets, first packet of the second level transform is called third wavelet packet.
Please see <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum_MATLAB</span></code> for MATLAB numbering.
The frequency ordering given in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum</span></code> is resetting the numbers to 1 in each level.
All wavelet packet numbers given in <span id="id1">[<a class="reference internal" href="index.html#id2" title="Melih C. Yesilli, Firas A. Khasawneh, and Andreas Otto. On transfer learning for chatter detection in turning using wavelet packet transform and ensemble empirical mode decomposition. CIRP Journal of Manufacturing Science and Technology, 2019. doi:10.1016/j.cirpj.2019.11.003.">2</a>]</span> is based on the ordering provided in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum</span></code>.
One need to find correponding number for each wavelet packet by using <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum_MATLAB</span></code> to reconstruct the time series correctly based on informative wavelet packets in MATLAB.
Also, ordering in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum</span></code> is obtained by using the MATLAB function <strong>otnodes()</strong>.
Ordering can differ based on wavelet function used in the transform and level of the transform.
Therefore, ordering in <code class="xref std std-numref docutils literal notranslate"><span class="pre">PacketNum</span></code> should only be used in applications which use wavelet function ‘db10’.</p>
<figure class="align-center" id="id3">
<span id="packetnum-matlab"></span><img alt="_images/WPT_Tree_with_MATLAB_Numbering.png" src="_images/WPT_Tree_with_MATLAB_Numbering.png" />
<figcaption>
<p><span class="caption-text">Frequency and natural ordering of wavelet packets in MATLAB</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Melih C. Yesilli, Firas A. Khasawneh, Andreas Otto.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>