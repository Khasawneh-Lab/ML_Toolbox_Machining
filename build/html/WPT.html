<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.1.1. Wavelet Packet Transform &mdash; Machine learning toolbox for WPT and EEMD 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1.1.2. Ensemble Empirical Mode Decomposition (EEMD)" href="EEMD.html" />
    <link rel="prev" title="1.1. Chatter Detection Module Documentation" href="chatter_detection.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="index.html" class="icon icon-home"> Machine learning toolbox for WPT and EEMD
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">1.  Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="chatter_detection.html">1.1. Chatter Detection</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.1.1. Wavelet Packet Transform (WPT)</a></li>
<li class="toctree-l3"><a class="reference internal" href="EEMD.html">1.1.2. Ensemble Empirical Mode Decomposition (EEMD)</a></li>
<li class="toctree-l3"><a class="reference internal" href="DTW.html">1.1.3. Dynamic Time Warping (DTW)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">2.  Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">3.  License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Machine learning toolbox for WPT and EEMD</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html"><span class="section-number">1. </span>Table of Contents</a> &raquo;</li>
          <li><a href="chatter_detection.html"><span class="section-number">1.1. </span>Chatter Detection Module Documentation</a> &raquo;</li>
      <li><span class="section-number">1.1.1. </span>Wavelet Packet Transform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/WPT.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="wavelet-packet-transform">
<span id="wpt"></span><h1><span class="section-number">1.1.1. </span>Wavelet Packet Transform<a class="headerlink" href="#wavelet-packet-transform" title="Permalink to this headline"></a></h1>
<section id="module-WPT_EEMD_ML.WP_Energy_Ratio">
<span id="decision-making-about-informative-wavelet-packets"></span><h2><span class="section-number">1.1.1.1. </span>Decision Making about Informative Wavelet Packets<a class="headerlink" href="#module-WPT_EEMD_ML.WP_Energy_Ratio" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="WPT_EEMD_ML.WP_Energy_Ratio.AbsFFT">
<span class="sig-prename descclassname"><span class="pre">WPT_EEMD_ML.WP_Energy_Ratio.</span></span><span class="sig-name descname"><span class="pre">AbsFFT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/WPT_EEMD_ML/WP_Energy_Ratio.html#AbsFFT"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WPT_EEMD_ML.WP_Energy_Ratio.AbsFFT" title="Permalink to this definition"></a></dt>
<dd><p>This function computes the normaliez spectrum of the given 1D signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>ts</strong><strong>)</strong> (<em>array</em>) – time series</p></li>
<li><p><strong>(</strong><strong>fs</strong><strong>)</strong> (<em>int</em>) – sampling frequency</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">xf</dt>
<dd class="field-odd"><p>(np.array([])) frequency values</p>
</dd>
<dt class="field-even">yf</dt>
<dd class="field-even"><p>(np.array([])) amplitudes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WPT_EEMD_ML.WP_Energy_Ratio.WP_Energy_Ratio">
<span class="sig-prename descclassname"><span class="pre">WPT_EEMD_ML.WP_Energy_Ratio.</span></span><span class="sig-name descname"><span class="pre">WP_Energy_Ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts_no</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">WF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">case_no</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_recon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/WPT_EEMD_ML/WP_Energy_Ratio.html#WP_Energy_Ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WPT_EEMD_ML.WP_Energy_Ratio.WP_Energy_Ratio" title="Permalink to this definition"></a></dt>
<dd><p>This function returns plots of energy ratios of wavelet packets, reconstructed signals of each wavelet packet and their spectrum.
Reconstructed signals is plotted when plot_recon is set to ‘True’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>data_path</strong><strong>)</strong> (<em>str</em>) – Path to folder where list of time series names and time series data is kept</p></li>
<li><p><strong>(</strong><strong>list_name</strong><strong>)</strong> (<em>str</em>) – Name of the .txt file which includes names of time series data</p></li>
<li><p><strong>(</strong><strong>ts_no</strong><strong>)</strong> (<em>list</em>) – Index of time series which user wants to investigate</p></li>
<li><p><strong>(</strong><strong>WF</strong><strong>)</strong> (<em>str</em>) – Wavelet function (see <a class="reference external" href="https://pywavelets.readthedocs.io/en/latest/regression/wavelet.html?highlight=wavelet%20list#wavelet-families-and-builtin-wavelets-names">types</a> of wavelet functions available in PyWavelet package)</p></li>
<li><p><strong>(</strong><strong>L</strong><strong>)</strong> (<em>int</em>) – Transformation level</p></li>
<li><p><strong>(</strong><strong>case_no</strong><strong>)</strong> (<em>int</em>) – Overhang distance</p></li>
<li><p><strong>(</strong><strong>fs</strong><strong>)</strong> (<em>int</em>) – Sampling frequency</p></li>
<li><p><strong>(</strong><strong>plot_recon</strong><strong>)</strong> (<em>bool</em>) – It is set to ‘True’ to obtain the reconstructed signals plots</p></li>
<li><p><strong>(</strong><strong>layout</strong><strong>)</strong> (<em>list</em>) – Row and column numbers for the plot of reconstructed signals</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">figures</dt>
<dd class="field-odd"><p>First figure is the energy ratio plot. If user set to plot_recon to ‘True’, then algorithm returns reconstruted signals figures as well.
For instance, if the number of time series that user wants to investigate is 3, and algorithm returns two figures for each time series.
Totally, it returns 7 figures.
Plots of reconstructed signals and their spectrums are given in the order user specified as input with ts_no.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="WPT_EEMD_ML.WP_Energy_Ratio.wEnergy">
<span class="sig-prename descclassname"><span class="pre">WPT_EEMD_ML.WP_Energy_Ratio.</span></span><span class="sig-name descname"><span class="pre">wEnergy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coeffs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/WPT_EEMD_ML/WP_Energy_Ratio.html#wEnergy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WPT_EEMD_ML.WP_Energy_Ratio.wEnergy" title="Permalink to this definition"></a></dt>
<dd><p>This function takes wavelet coefficients and return the energy ratio of wavelet packets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>(</strong><strong>coeffs</strong><strong>)</strong> (<em>list</em>) – The list of wavelet coefficients obtained from Wavelet Packet Transform</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(np.array([])) The energry ratios of each wavelet packets</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="feature-extraction-and-supervised-classification-using-wpt">
<h2><span class="section-number">1.1.1.2. </span>Feature extraction and supervised classification using WPT<a class="headerlink" href="#feature-extraction-and-supervised-classification-using-wpt" title="Permalink to this headline"></a></h2>
<p>This algorithm takes time series for turning experiments as input and it generates the feature matrix based on specified WPT level.
The reconstructed Wavelet packets and corresponding frequency domain feature matrices should be computed before running this algorithm. Please see the instructions for Matlab functions on this
documentation before using this algorithm.
The Wavelet packets frequency domain features and datafiles should be in the same folder.
It asks for file paths for the data files.
Algorithm performs the classfication with chosen algorithm and provides results in a np.array.
It plots the mean accuracies and deviations for test and training set with respect to number of features used in classification, if user enables plotting option of the algorithm.
It also prints the total elapsed time.</p>
<span class="target" id="module-WPT_EEMD_ML.WPT_Feature_Extraction"></span><dl class="py function">
<dt class="sig sig-object py" id="WPT_EEMD_ML.WPT_Feature_Extraction.WPT_Feature_Extraction">
<span class="sig-prename descclassname"><span class="pre">WPT_EEMD_ML.WPT_Feature_Extraction.</span></span><span class="sig-name descname"><span class="pre">WPT_Feature_Extraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">WF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IWP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saving</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/WPT_EEMD_ML/WPT_Feature_Extraction.html#WPT_Feature_Extraction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WPT_EEMD_ML.WPT_Feature_Extraction.WPT_Feature_Extraction" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>data_path</strong><strong>)</strong> (<em>str</em>) – The path where user keeps the data set</p></li>
<li><p><strong>(</strong><strong>list_name</strong><strong>)</strong> (<em>str</em>) – Name of the .txt file that includes the names of time series data</p></li>
<li><p><strong>(</strong><strong>label_name</strong><strong>)</strong> (<em>str</em>) – Name of the .npy file that includes labels of the time series</p></li>
<li><p><strong>(</strong><strong>WF</strong><strong>)</strong> (<em>str</em>) – Wavelet function</p></li>
<li><p><strong>(</strong><strong>L</strong><strong>)</strong> (<em>int</em>) – Level of the transform which will be applied to data set</p></li>
<li><p><strong>(</strong><strong>IWP</strong><strong>)</strong> (<em>int</em>) – Informative Wavelet Packet number</p></li>
<li><p><strong>(</strong><strong>fs</strong><strong>)</strong> (<em>int</em>) – Sampling frequency of the data set</p></li>
<li><p><strong>(</strong><strong>saving</strong><strong>)</strong> (<em>boolean</em>) – Set it to true if you want to save reconstructed signals</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="field-list simple">
<dt class="field-odd">feature_mat</dt>
<dd class="field-odd"><p>(np.array([])) Feature matrix</p>
</dd>
<dt class="field-even">labels</dt>
<dd class="field-even"><p>(np.array([])) Labels</p>
</dd>
<dt class="field-odd">time</dt>
<dd class="field-odd"><p>(str) Elapsed time during feature matrix generation</p>
</dd>
</dl>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="go">from WPT_EEMD_ML.WPT_Feature_Extraction import WPT_Feature_Extraction</span>

<span class="go"># parameters</span>

<span class="go">data_path = &#39;D:\Data Archive\Cutting_Test_Data_Documented\cutting_tests_processed\2inch_stickout&#39;</span>
<span class="go">list_name = &#39;time_series_name_2inch.txt&#39;</span>
<span class="go">WF = &#39;db10&#39;</span>
<span class="go">L=4</span>
<span class="go">IWP = 3</span>
<span class="go">label_name = &#39;2_inch_Labels_2Class.npy&#39;</span>
<span class="go">saving = False</span>
<span class="go">fs = 10000</span>

<span class="go">feature_mat,labels = WPT_Feature_Extraction(data_path, list_name,label_name,WF,L,IWP,fs,saving)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

</section>
<section id="transfer-learning-application-using-wpt">
<h2><span class="section-number">1.1.1.3. </span>Transfer Learning Application Using WPT<a class="headerlink" href="#transfer-learning-application-using-wpt" title="Permalink to this headline"></a></h2>
<p>This function uses transfer learning principles to transfer the knowledge obtained from one cutting configuration to another one.</p>
<span class="target" id="module-WPT_EEMD_ML.WPT_Transfer_Learning"></span><dl class="py function">
<dt class="sig sig-object py" id="WPT_EEMD_ML.WPT_Transfer_Learning.WPT_Transfer_Learning">
<span class="sig-prename descclassname"><span class="pre">WPT_EEMD_ML.WPT_Transfer_Learning.</span></span><span class="sig-name descname"><span class="pre">WPT_Transfer_Learning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">WFs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Levels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">IWPs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samp_fs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_tuning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_ranking</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saving</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/WPT_EEMD_ML/WPT_Transfer_Learning.html#WPT_Transfer_Learning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#WPT_EEMD_ML.WPT_Transfer_Learning.WPT_Transfer_Learning" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_paths</strong> (<em>list</em>) – The list that contains the file directory where the experimental signals are stored. Algorithm will assume the first half of the paths provided in the list as the training set while the rest will be considered as the test set. This is also the same other inputs whose type is list.</p></li>
<li><p><strong>list_names</strong> (<em>list</em>) – The name of the txt files that contain the name of the data files for each case of cutting configurations.</p></li>
<li><p><strong>WFs</strong> (<em>list</em>) – The list of type of mother wavelet functions used in the analysis.</p></li>
<li><p><strong>Levels</strong> (<em>list</em>) – The level of transform selected for the WPT.</p></li>
<li><p><strong>IWPs</strong> (<em>list</em>) – The lsit of informative wavelet packets</p></li>
<li><p><strong>label_names</strong> (<em>list</em>) – The list that contains the file names of the labels for training and test set.</p></li>
<li><p><strong>samp_fs</strong> (<em>list</em>) – Sampling frequency of the signals in training and test set</p></li>
<li><p><strong>cv</strong> (<em>int</em>) – K-fold cross-validation</p></li>
<li><p><strong>param_tuning</strong> (<em>Boolean</em>) – Set it to True if you would like tune hyperparameters of the classifiers</p></li>
<li><p><strong>feature_ranking</strong> (<em>Boolean</em>) – Set it to True if you would like to rank the features using RFE</p></li>
<li><p><strong>saving</strong> (<em>boolean</em>) – Set it to True if you would like to save the results</p></li>
<li><p><strong>*args</strong> (<em>str</em>) – Provide the path where the results will be saved using if the saving is set to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Returns the classification reports for training and test sets.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="chatter_detection.html" class="btn btn-neutral float-left" title="1.1. Chatter Detection Module Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="EEMD.html" class="btn btn-neutral float-right" title="1.1.2. Ensemble Empirical Mode Decomposition (EEMD)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Melih C. Yesilli, Firas A. Khasawneh, Andreas Otto.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXX-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-XXXXXXX-1', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>